<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <script>
        // let a = {
        //     user:'dds',
        //     fn:function(e,l){
        //         console.log(this.user)
        //         console.log(e+l)
        //     }
        // }
        // a.fn() 函数式调用this
        // let b = a.fn
        // b()//此时this指向的是window 结果为undefined 调用b()是window this是谁调用它 ，this指向谁
        // b.call(a,2,3)
        // b.apply(a,[2,4])
        // bind 返回的是一个函数  传参 是就近原则
        // let c= b.bind(a,3)
        // c(5,2);
        
            // 手动实现.call 方法 call()原理
        Function .prototype.call = function (){
            let [thisArg,...args] = [...arguments]
            if(!thisArg){
                thisArg = typeof window ==='undefined' ? global:window
            }
            // this 的指向是当前函数 func 
            thisArg.func = this
            // 执行函数
            let result = thisArg.func(...args)
            // thisArg 上并没有func 属性
            delete thisArg.func 
            return result;
        }

        </script>
</body>
</html>