

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>送花-代理模式</title>
</head>
<body>
<script>
// {} json 对象字面量
// 松涛在想送什么花，玫瑰，丁香...class new 打印出来，小美收到什么花
const ljd = {
  name: "吴江东",
  hometown: "赣州",
  single: false,
  room: "1315"
}
// JS 极具表现力的语言
// 对象字面量
const cst = {
  // 属性
  name: "陈松涛",
  single: true,
  hometown: "高安",
  hobbies: ["桌球", "下棋", "游戏"],
  yz: 75,
  // 送花？ 目标 
  // target 形参
  send_flower (target) {
    target.receiveFlower(cst);
  }
};
const xm = {
  name: "小美",
  receiveFlower(sender) {
    // console.log("收到了花");
    // 颜值 85以上 
    if (sender.yz < 85) {
      console.log("你是个好人");
    } else {
      console.log("万达走一波");
    }
  },
//   心情
  listengoodmood(fn){
      console.log("心情不好");
      
      setTimeout(function(){
          cst.yz=88;
console.log("心情不错，感觉人生已经到达了高潮");
fn();
      },3000);
  }
}
const xiaohong = {
  name: "小红",
  hometown: "高安",
  sex: "女",
  receiveFlower(sender){
    // //   xm.receiveFlower(sender);
    // 代理对象，实现复杂需求
    // 监听小美的心情3秒之后心情好了就送
xm.listengoodmood(function(){
    // sender.send_flower(xiaoamei);
    xm.receiveFlower(sender);
});
      
      

  }
} 
</script>
</body>
</html>
